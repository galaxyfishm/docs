(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{523:function(t,s,a){"use strict";a.r(s);var n=a(7),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"什么是nginx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#什么是nginx"}},[t._v("#")]),t._v(" 什么是Nginx？")]),t._v(" "),a("blockquote",[a("p",[t._v("是一个高性能的反向代理服务器（http服务器）")]),t._v(" "),a("ul",[a("li",[t._v("正向代理代理的是客户端：VPN")]),t._v(" "),a("li",[t._v("反向代理代理的是服务端：Nginx")])]),t._v(" "),a("p",[t._v("作用：")]),t._v(" "),a("ul",[a("li",[t._v("认证鉴权")]),t._v(" "),a("li",[t._v("流量分发")]),t._v(" "),a("li",[t._v("动静分离")])])]),t._v(" "),a("h1",{attrs:{id:"nginx模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx模块"}},[t._v("#")]),t._v(" Nginx模块")]),t._v(" "),a("blockquote",[a("p",[t._v("反向代理、email、nginx core...")])]),t._v(" "),a("h2",{attrs:{id:"模块分类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#模块分类"}},[t._v("#")]),t._v(" 模块分类")]),t._v(" "),a("ol",[a("li",[t._v("核心模块 ngx_http_core_module")]),t._v(" "),a("li",[t._v("标准模块 http模块")]),t._v(" "),a("li",[t._v("第三方模块")])]),t._v(" "),a("h3",{attrs:{id:"ngx-http-core-module"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ngx-http-core-module"}},[t._v("#")]),t._v(" ngx_http_core_module")]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[t._v("server {\n    listen port\n    server_name\n    root ...    \n}\n\nlocation 实现uri到文件系统的路径映射\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("h3",{attrs:{id:"ngx-http-access-module"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ngx-http-access-module"}},[t._v("#")]),t._v(" ngx_http_access_module")]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[t._v("allow \ndeny\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("h1",{attrs:{id:"nginx-反向代理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx-反向代理"}},[t._v("#")]),t._v(" Nginx 反向代理")]),t._v(" "),a("blockquote"),t._v(" "),a("h1",{attrs:{id:"nginx-负载均衡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx-负载均衡"}},[t._v("#")]),t._v(" Nginx 负载均衡")]),t._v(" "),a("blockquote",[a("p",[a("strong",[t._v("负载均衡器（硬件负载）：")]),a("code",[t._v("F5，Array")])]),t._v(" "),a("p",[a("strong",[t._v("软件负载")]),t._v("："),a("code",[t._v("Nginx，LVS，HAProxy")])])]),t._v(" "),a("blockquote",[a("ol",[a("li",[a("strong",[t._v("Upstream")])])]),t._v(" "),a("p",[t._v("语法："),a("code",[t._v("server address [paramters]")])]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[t._v("upstream tomcat "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    ip_hash"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    server "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".1")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8080")]),t._v(" weight"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    server "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".1")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".2")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8080")]),t._v(" weight"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[a("strong",[t._v("负载均衡策略或者算法")])])]),t._v(" "),a("p",[t._v("轮询算法（默认）如果后端服务器宕机自动剔除")]),t._v(" "),a("p",[a("code",[t._v("ip_hash")]),t._v("算法 根据请求"),a("code",[t._v("ip")]),t._v("地址进行"),a("code",[t._v("hash")])]),t._v(" "),a("p",[t._v("权重轮询算法")]),t._v(" "),a("p",[t._v("响应时间")]),t._v(" "),a("p",[t._v("....")])]),t._v(" "),a("h1",{attrs:{id:"nginx-动静分离"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx-动静分离"}},[t._v("#")]),t._v(" Nginx 动静分离")]),t._v(" "),a("blockquote",[a("p",[t._v("PS：可以将图片等静态资源放在CDN服务器上面。")])]),t._v(" "),a("blockquote",[a("p",[a("strong",[t._v("缓存")]),t._v("："),a("code",[t._v("Cache-Control/Pragma/Expires")])])]),t._v(" "),a("blockquote",[a("p",[a("strong",[t._v("压缩")]),t._v("："),a("code",[t._v("Gzip")])])]),t._v(" "),a("blockquote",[a("p",[a("strong",[t._v("防盗链")]),t._v("：")])]),t._v(" "),a("blockquote",[a("p",[a("strong",[t._v("跨域访问")]),t._v("："),a("code",[t._v("Aceess-Control-Allow-Origin '*'")])])]),t._v(" "),a("h1",{attrs:{id:"nginx-配置文件分析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx-配置文件分析"}},[t._v("#")]),t._v(" Nginx 配置文件分析")]),t._v(" "),a("h1",{attrs:{id:"nginx-多线程模型原理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx-多线程模型原理"}},[t._v("#")]),t._v(" Nginx 多线程模型原理")]),t._v(" "),a("h1",{attrs:{id:"nginx-高可用集群实战"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx-高可用集群实战"}},[t._v("#")]),t._v(" Nginx 高可用集群实战")]),t._v(" "),a("p",[t._v("Nginx 单机可以支撑5W并发。")]),t._v(" "),a("p",[t._v("Nginx 是 HTTP Server，可以用来做 http 路由，或者存放静态资源做动静分离。")]),t._v(" "),a("h1",{attrs:{id:"二、nginx-适用场景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、nginx-适用场景"}},[t._v("#")]),t._v(" 二、Nginx 适用场景")]),t._v(" "),a("h2",{attrs:{id:"_1-nginx-虚拟主机"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-nginx-虚拟主机"}},[t._v("#")]),t._v(" 1. Nginx 虚拟主机")]),t._v(" "),a("p",[t._v("可以使用 Nginx 虚拟化技术，分配不同的磁盘路径，映射给不同的服务。")]),t._v(" "),a("h2",{attrs:{id:"_2-nginx-反向代理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-nginx-反向代理"}},[t._v("#")]),t._v(" 2. Nginx 反向代理")]),t._v(" "),a("p",[t._v("正向代理：为客户端服务。")]),t._v(" "),a("p",[t._v("反向代理：为服务端服务。")]),t._v(" "),a("h2",{attrs:{id:"_3-nginx-负载均衡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-nginx-负载均衡"}},[t._v("#")]),t._v(" 3. Nginx 负载均衡")]),t._v(" "),a("h1",{attrs:{id:"openresty"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#openresty"}},[t._v("#")]),t._v(" OpenResty")]),t._v(" "),a("h2",{attrs:{id:"nginx-进程模型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx-进程模型"}},[t._v("#")]),t._v(" Nginx 进程模型")]),t._v(" "),a("blockquote",[a("p",[t._v("多进程+多路复用；"),a("strong",[t._v("master")]),t._v("进程，"),a("strong",[t._v("worker")]),t._v("进程")]),t._v(" "),a("p",[a("code",[t._v("work_processes")]),t._v("：建议设置成"),a("strong",[t._v("CPU")]),t._v("总核心数。")])]),t._v(" "),a("h2",{attrs:{id:"nginx-高可用方案"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx-高可用方案"}},[t._v("#")]),t._v(" Nginx 高可用方案")]),t._v(" "),a("blockquote",[a("p",[a("strong",[t._v("DNS")]),t._v("轮询；")]),t._v(" "),a("p",[t._v("openresty 32:27")])]),t._v(" "),a("h1",{attrs:{id:"知识点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#知识点"}},[t._v("#")]),t._v(" 知识点")]),t._v(" "),a("blockquote",[a("p",[a("strong",[t._v("Apache、Tomcat、Nginx区别？")])]),t._v(" "),a("p",[t._v("Apache、Nginx静态资源服务器；Tomcat动态资源服务器。")]),t._v(" "),a("p",[t._v("Apache有资源瓶颈，所以在大流量情况下诞生了Nginx。")])]),t._v(" "),a("h1",{attrs:{id:"疑问"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#疑问"}},[t._v("#")]),t._v(" 疑问")]),t._v(" "),a("blockquote",[a("p",[t._v("多路复用？参考redis教程")])]),t._v(" "),a("blockquote",[a("p",[t._v("Linux IO模型？epoll、select...")]),t._v(" "),a("p",[t._v("零拷贝？参考kafka")])])])}),[],!1,null,null,null);s.default=e.exports}}]);